# Урок 2.

## Принципы ООП Абстракция и интерфейсы. Пример проектирования

Сделать одно из двух. Но обязательно почитать про внедрение зависимостей. Dependency Injection.
https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial

1. К задачам из предыдущего дз добавить абстракции и интерфейсы. Продумать иерархию компонент и взаимодействия их
   между собой.
   Обеспечить переход от использования явных классов в сторону использования абстрактных типов. Т.е. работаем не с
   конкретным экземпляром генеалогического древа, а с абстрактным классом “генеалогическое древо” или не с конкретным
   человеком, а с абстрактным человеком.
2. Поработать не с конкретным экземпляром котика, а с интерфейсом “котик”, лучше уйти от взаимодействия с конкретными
   питомцами и повысить уровень абстракции до взаимодействия интерфейсом “животное”. Предложить любопытный сценарий -
   что если внезапно котик пропал, и
   на его место хозяин хочет поставить хомячка или другое животное.

## Решение:

* __Person__

  Абстрактный класс для определения людей имеющий общие для всех:
    * Поля,
    * Конструктор,
    * Геттеры;


* __CatLover__

  Класс, наследник от `Person`, описывающий людей любящих кошек. Имплементируют интерфейс `CallPet`.

  Переопределяет метод `CallPet` в соответствии с поведением кошатника.


* __DogLover__

  Класс, наследник от `Person`, описывающий людей любящих собак. Имплементируют интерфейс `CallPet`.

  Переопределяет метод `CallPet` в соответствии с поведением собачника.


* __CallPet__

  Интерфейс имеющий метод позволяющий позвать питомца.


* __Pet__

  Абстрактный класс, для определения животных имеющий общие для всех:
    * Поля,
    * Конструктор,
    * Геттеры;


* __Dog__

  Класс для создания экземпляров собак. Имеет переопределенный метод описывающий реакцию отзыва в соответствии с типом.


* __Cat__

  Класс для создания экземпляров кошек. Имеет переопределенный метод описывающий реакцию отзыва в соответствии с типом.


* __PersonTree__

  Класс хранящий список людей. Имеет сеттер и геттер.


* __PetTree__

  Класс хранящий список животных. Имеет сеттер и геттер.


* __Reasearch__

  Класс имеющий методы исследования.
    * Вывод всех кошатников,
    * Вывод всех собачников,
    * Вывод всех кошек,
    * Вывод всех собак,
    * Обеспечить позыв всех животных каждым человеком.

## Переходим к рефакторингу.

Из замечаний преподавателя (У самого что-то особо не думается ..):

```
Привет! Код выглядит хорошо. Отлично что использовал и абстрактные классы, и интерфейсы!)
Хотелось бы немного отрефакторить класс Research: 
    Метод getDogLovers и метод getCatLovers очень похожи. 
    Отличаются одним действием - проверка c помощью instanceof. 
    Предлагаю избавиться от повторяющегося кода) 
    Точно такая же ситуация с методами getCats и getDogs
```